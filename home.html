<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Saddam Official | Secure Home</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&family=Orbitron:wght@700&display=swap');
        
        body { background: #010409; color: #e6edf3; font-family: 'Hind Siliguri', sans-serif; overflow-x: hidden; }
        
        /* প্রিমিয়াম গ্লাস কার্ড */
        .glass-card { background: rgba(13, 17, 23, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(48, 54, 61, 1); border-radius: 24px; transition: 0.3s; }
        
        /* অনলাইন সিগন্যাল */
        .online-blink { width: 8px; height: 8px; background: #238636; border-radius: 50%; display: inline-block; box-shadow: 0 0 8px #238636; animation: blinker 1.5s infinite; }
        @keyframes blinker { 50% { opacity: 0; } }

        /* সাইড মেনু এনিমেশন */
        #side-nav { transition: transform 0.4s ease; transform: translateX(-100%); z-index: 9999; }
        #side-nav.open { transform: translateX(0); }

        .btn-glow { background: linear-gradient(135deg, #1f6feb, #0969da); border-radius: 16px; font-weight: bold; }
        .btn-glow:active { transform: scale(0.95); }
    </style>
</head>
<body class="max-w-md mx-auto min-h-screen pb-10">

    <header class="p-6 flex justify-between items-center border-b border-gray-800 sticky top-0 bg-[#0d1117]/90 z-50">
        <div>
            <h1 class="text-xl font-black font-[Orbitron] text-blue-500 tracking-tighter">BDMARKETING.COM</h1>
            <div class="flex items-center gap-2">
                <span class="online-blink"></span>
                <span class="text-[10px] text-gray-400 font-bold uppercase">Admin: Saddam</span>
            </div>
        </div>
        <div class="flex items-center gap-4">
            <button onclick="toggleLang()" class="text-[9px] font-bold border border-gray-700 px-3 py-1 rounded-md">BN/EN</button>
            <button onclick="openMenu()" class="text-2xl text-blue-500"><i class="fas fa-bars-staggered"></i></button>
        </div>
    </header>

    <div id="side-nav" class="fixed top-0 left-0 w-4/5 h-full bg-[#0d1117] border-r border-gray-800 p-8 shadow-2xl">
        <button onclick="closeMenu()" class="absolute top-6 right-6 text-gray-500"><i class="fas fa-times"></i></button>
        
        <div class="mt-12 space-y-8">
            <div class="border-b border-gray-800 pb-6">
                <p id="nav-user" class="text-lg font-bold text-blue-400">Guest User</p>
                <span id="verify-badge" class="hidden text-[8px] bg-green-900/40 text-green-400 px-2 py-0.5 rounded-full border border-green-500/20 uppercase font-bold">Verified User</span>
            </div>
            
            <nav class="space-y-5">
                <a href="javascript:void(0)" onclick="gate('Profile')" class="flex items-center gap-4 text-sm font-semibold hover:text-blue-400 transition"><i class="fas fa-user-circle text-blue-500"></i> Profile</a>
                <a href="javascript:void(0)" onclick="gate('Wallet')" class="flex items-center gap-4 text-sm font-semibold hover:text-blue-400 transition"><i class="fas fa-wallet text-blue-500"></i> Wallet</a>
                <a href="javascript:void(0)" onclick="gate('History')" class="flex items-center gap-4 text-sm font-semibold hover:text-blue-400 transition"><i class="fas fa-history text-blue-500"></i> History</a>
                <a href="javascript:void(0)" onclick="gate('Support')" class="flex items-center gap-4 text-sm font-semibold hover:text-blue-400 transition"><i class="fas fa-headset text-blue-500"></i> Support Center</a>
                <a href="javascript:void(0)" onclick="logoutUser()" class="flex items-center gap-4 text-sm font-bold text-red-500 pt-10"><i class="fas fa-power-off"></i> Logout</a>
            </nav>
        </div>
    </div>

    <main class="p-6 space-y-6">
        
        <div class="glass-card p-10 text-center relative overflow-hidden">
            <div class="absolute -top-10 -right-10 w-32 h-32 bg-blue-600/10 rounded-full blur-3xl"></div>
            <p id="txt-bal-title" class="text-[10px] uppercase tracking-[5px] text-gray-500 font-bold mb-2">Total Balance</p>
            <h2 class="text-5xl font-bold font-[Orbitron] text-white tracking-tighter">৳ <span id="user-bal">0.00</span></h2>
        </div>

        <div class="space-y-4">
            <h3 class="text-xs font-bold text-gray-400 flex items-center gap-2 uppercase tracking-widest">
                <i class="fas fa-layer-group text-blue-500"></i> Pocket Market
            </h3>
            <div class="grid grid-cols-2 gap-4">
                <div onclick="gate('Seller Mode')" class="glass-card p-6 text-center cursor-pointer active:bg-blue-500/10 border-blue-500/10">
                    <i class="fas fa-briefcase text-2xl text-blue-500 mb-2"></i>
                    <p class="text-[9px] font-black uppercase tracking-widest">Seller Mode</p>
                </div>
                <div onclick="gate('Buyer Mode')" class="glass-card p-6 text-center cursor-pointer active:bg-blue-500/10 border-blue-500/10">
                    <i class="fas fa-cart-shopping text-2xl text-green-500 mb-2"></i>
                    <p class="text-[9px] font-black uppercase tracking-widest">Buyer Mode</p>
                </div>
            </div>
        </div>

        <div class="glass-card p-6">
            <p class="text-[9px] font-bold text-gray-500 uppercase tracking-widest mb-4">Official Help Center</p>
            <div class="flex justify-between items-center px-4">
                <a id="wa-link" href="#" class="text-2xl text-green-500 hover:scale-110 transition"><i class="fab fa-whatsapp"></i></a>
                <a id="fb-link" href="#" class="text-2xl text-blue-600 hover:scale-110 transition"><i class="fab fa-facebook"></i></a>
                <a id="tw-link" href="#" class="text-2xl text-blue-400 hover:scale-110 transition"><i class="fab fa-twitter"></i></a>
                <a id="mail-link" href="#" class="text-2xl text-red-500 hover:scale-110 transition"><i class="fas fa-envelope"></i></a>
            </div>
        </div>

        <div id="extra-modules-holder" class="space-y-4">
            </div>

    </main>

    <script>
        // Firebase Configuration (Verified Link)
        const firebaseConfig = {
            databaseURL: "https://bd-marketing-55a81-default-rtdb.firebaseio.com"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // লোকাল মেমোরি থেকে ডাটা চেক
        const uName = localStorage.getItem("user_name");
        const isLogged = localStorage.getItem("bd_market_logged");

        window.onload = function() {
            if (isLogged === "true" && uName) {
                document.getElementById('nav-user').innerText = uName;
                document.getElementById('verify-badge').classList.remove('hidden');
                
                // লাইভ ব্যালেন্স ট্র্যাকিং
                db.ref('Users/' + uName.replace(/\s+/g, '_') + '/balance').on('value', (s) => {
                    document.getElementById('user-bal').innerText = s.val() || "0.00";
                });
            }
            fetchSupportLinks();
        };

        // এডমিন থেকে সোশ্যাল সাপোর্ট লিঙ্ক লোড
        function fetchSupportLinks() {
            db.ref('AdminSettings/Support').on('value', (s) => {
                const data = s.val();
                if(data) {
                    document.getElementById('wa-link').href = "https://wa.me/" + data.whatsapp;
                    document.getElementById('fb-link').href = data.facebook;
                    document.getElementById('mail-link').href = "mailto:" + data.email;
                }
            });
        }

        // গেস্টদের জন্য কঠোর সিকিউরিটি গেট
        function gate(feature) {
            if (isLogged !== "true") {
                Swal.fire({
                    title: 'অ্যাক্সেস সীমিত!',
                    text: 'জনাব, ' + feature + ' ব্যবহার করতে অনুগ্রহ করে একাউন্ট খুলুন তারপর আসুন।',
                    icon: 'lock',
                    showCancelButton: true,
                    confirmButtonText: 'Register Now',
                    confirmButtonColor: '#1f6feb',
                    cancelButtonText: 'Later'
                }).then((res) => {
                    if(res.isConfirmed) window.location.href = "index.html";
                });
            } else {
                Swal.fire({
                    title: feature,
                    text: 'সাদ্দাম ভাইয়ার তত্ত্বাবধানে এই মডিউলটি শীঘ্রই লাইভ হবে।',
                    icon: 'info'
                });
            }
        }

        function openMenu() { document.getElementById('side-nav').classList.add('open'); }
        function closeMenu() { document.getElementById('side-nav').classList.remove('open'); }

        function logoutUser() {
            localStorage.clear();
            window.location.href = "index.html";
        }

        let isBN = true;
        function toggleLang() {
            isBN = !isBN;
            document.getElementById('txt-bal-title').innerText = isBN ? "Total Balance" : "মোট ব্যালেন্স";
        }
    </script>
</body>
</html>
